{"version":3,"sources":["../../src/database/index.js"],"names":["models","User","File","Appointment","Database","constructor","init","mongo","connection","Sequelize","databaseConfig","map","model","associate","mongoConnection","mongoose","connect","process","env","MONGO_URL","useNewUrlParser","useFindAndModify","useUnifiedTopology"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,CAACC,aAAD,EAAOC,aAAP,EAAaC,oBAAb,CAAf;;AAEA,MAAMC,QAAN,CAAe;AACbC,EAAAA,WAAW,GAAG;AACZ,SAAKC,IAAL;AACA,SAAKC,KAAL;AACD;;AAEDD,EAAAA,IAAI,GAAG;AACL,SAAKE,UAAL,GAAkB,IAAIC,kBAAJ,CAAcC,iBAAd,CAAlB;AAEAV,IAAAA,MAAM,CACHW,GADH,CACOC,KAAK,IAAIA,KAAK,CAACN,IAAN,CAAW,KAAKE,UAAhB,CADhB,EAEGG,GAFH,CAEOC,KAAK,IAAIA,KAAK,CAACC,SAAN,IAAmBD,KAAK,CAACC,SAAN,CAAgB,KAAKL,UAAL,CAAgBR,MAAhC,CAFnC;AAGD;;AAEDO,EAAAA,KAAK,GAAG;AACN,SAAKO,eAAL,GAAuBC,kBAASC,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,SAA7B,EAAwC;AAC7DC,MAAAA,eAAe,EAAE,IAD4C;AAE7DC,MAAAA,gBAAgB,EAAE,KAF2C;AAG7DC,MAAAA,kBAAkB,EAAE;AAHyC,KAAxC,CAAvB;AAKD;;AApBY;;eAuBA,IAAIlB,QAAJ,E","sourcesContent":["import Sequelize from 'sequelize';\nimport mongoose from 'mongoose';\nimport User from '../app/models/User';\nimport File from '../app/models/File';\nimport Appointment from '../app/models/Appointment';\nimport databaseConfig from '../config/database';\n\nconst models = [User, File, Appointment];\n\nclass Database {\n  constructor() {\n    this.init();\n    this.mongo();\n  }\n\n  init() {\n    this.connection = new Sequelize(databaseConfig);\n\n    models\n      .map(model => model.init(this.connection))\n      .map(model => model.associate && model.associate(this.connection.models));\n  }\n\n  mongo() {\n    this.mongoConnection = mongoose.connect(process.env.MONGO_URL, {\n      useNewUrlParser: true,\n      useFindAndModify: false,\n      useUnifiedTopology: true,\n    });\n  }\n}\n\nexport default new Database();\n"],"file":"index.js"}